<!doctype html><html lang="it"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/><title>Parole5 — Wordle italiano</title><meta name="theme-color" content="#0f172a"><link rel="manifest" href="manifest.json"><link rel="icon" href="icons/favicon.png"><style>:root{--bg:#0f172a;--card:#111827;--ink:#e5e7eb;--muted:#94a3b8;--ok:#22c55e;--maybe:#eab308;--no:#334155;--accent:#38bdf8}*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}html,body{height:100%}body{margin:0;display:flex;flex-direction:column;align-items:center;gap:12px;background:var(--bg);color:var(--ink);font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif}header{width:100%;max-width:560px;display:flex;align-items:center;justify-content:space-between;padding:10px 14px}h1{font-size:20px;margin:0;letter-spacing:1px}.btn{border:0;background:var(--card);color:var(--ink);padding:8px 10px;border-radius:12px;cursor:pointer}.btn:active{transform:scale(0.98)}.btn.primary{background:var(--accent);color:#07212a}#board{display:grid;grid-template-rows:repeat(6,1fr);gap:6px;width:min(92vw,520px);aspect-ratio:5/6;height:calc(min(92vw,520px)*1.2)}.row{display:grid;grid-template-columns:repeat(5,1fr);gap:6px}.tile{display:flex;align-items:center;justify-content:center;border:2px solid #334155;background:var(--card);border-radius:10px;font-weight:700;font-size:clamp(18px,5.8vw,28px);text-transform:uppercase;user-select:none}.tile.filled{border-color:#64748b}.tile.ok{background:var(--ok);border-color:var(--ok);color:#041b0b}.tile.maybe{background:var(--maybe);border-color:var(--maybe);color:#1b1504}.tile.no{background:var(--no);border-color:var(--no);color:#cbd5e1}#keyboard{display:grid;grid-template-rows:repeat(3,1fr);gap:8px;width:min(96vw,560px);padding:8px}.kbrow{display:grid;grid-auto-columns:1fr;grid-auto-flow:column;gap:6px}.key{height:46px;border:0;border-radius:10px;background:#1f2937;color:#e2e8f0;font-weight:700;cursor:pointer}.key.sm{font-size:12px}.key.ok{background:var(--ok);color:#052e12}.key.maybe{background:var(--maybe);color:#1b1504}.key.no{background:#334155;color:#94a3b8}footer{max-width:560px;opacity:.85;font-size:12px;color:#9ca3af;padding:0 12px 14px;text-align:center}#toast{position:fixed;top:12px;left:50%;transform:translateX(-50%);background:#000c;border:1px solid #334155;color:#e2e8f0;padding:8px 12px;border-radius:10px;backdrop-filter:blur(6px);display:none;z-index:9999}.status{font-size:12px;margin-left:8px;color:#9ca3af}.opt{display:flex;align-items:center;gap:8px;margin-top:8px;font-size:13px}.opt input{transform:scale(1.1)}</style></head><body><header><div style="display:flex;gap:10px;align-items:center"><img src="icons/icon-96.png" width="28" height="28" alt="" style="border-radius:6px"><h1>PAROLE5</h1><span id="status" class="status">Init…</span></div><div style="display:flex;gap:8px"><button id="btnDict" class="btn">Opzioni</button><button id="btnShare" class="btn">Condividi</button><button id="btnNew" class="btn" title="Nuova parola (solo test)">Nuova</button></div></header><main id="board" aria-label="Griglia delle lettere">    <div class="row"><div class="tile" id="t00"></div><div class="tile" id="t01"></div><div class="tile" id="t02"></div><div class="tile" id="t03"></div><div class="tile" id="t04"></div></div>
    <div class="row"><div class="tile" id="t10"></div><div class="tile" id="t11"></div><div class="tile" id="t12"></div><div class="tile" id="t13"></div><div class="tile" id="t14"></div></div>
    <div class="row"><div class="tile" id="t20"></div><div class="tile" id="t21"></div><div class="tile" id="t22"></div><div class="tile" id="t23"></div><div class="tile" id="t24"></div></div>
    <div class="row"><div class="tile" id="t30"></div><div class="tile" id="t31"></div><div class="tile" id="t32"></div><div class="tile" id="t33"></div><div class="tile" id="t34"></div></div>
    <div class="row"><div class="tile" id="t40"></div><div class="tile" id="t41"></div><div class="tile" id="t42"></div><div class="tile" id="t43"></div><div class="tile" id="t44"></div></div>
    <div class="row"><div class="tile" id="t50"></div><div class="tile" id="t51"></div><div class="tile" id="t52"></div><div class="tile" id="t53"></div><div class="tile" id="t54"></div></div></main><section id="keyboard" aria-label="Tastiera"><div class="kbrow" id="kb1"></div><div class="kbrow" id="kb2"></div><div class="kbrow" id="kb3"></div></section><footer>Wordle‑like in italiano. PWA offline, una parola al giorno.</footer><div id="toast" role="status" aria-live="polite"></div><dialog id="dlg"><div class="dlg-h" style="display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-bottom:1px solid #1f2937"><strong style="letter-spacing:.5px">Opzioni & Dizionario</strong><button class="btn" onclick="document.getElementById('dlg').close()">Chiudi</button></div><div class="dlg-c" style="padding:12px 14px"><div class="pill" style="display:inline-flex;gap:8px;align-items:center;background:#0f1a2e;border:1px solid #1e2a42;border-radius:999px;padding:6px 10px;font-size:12px;color:#cbd5e1">Attive: <span id="countWords">0</span> parole</div><label class="opt"><input type="checkbox" id="optAny"> Permetti qualsiasi 5 lettere</label><label class="opt"><input type="checkbox" id="optHard"> Modalità Difficile (riusa verdi/gialle)</label><div class="row-actions" style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px"><label class="btn primary" for="fileInput">Carica file .txt</label><input id="fileInput" type="file" accept=".txt" style="display:none"/><button id="btnPaste" class="btn">Incolla parole</button><button id="btnExport" class="btn">Esporta .txt</button><button id="btnReset" class="btn">Ripristina lista integrata</button><button id="btnReveal" class="btn">Rivela parola di oggi</button></div><p class="hint" style="font-size:12px;color:#9ca3af">In Modalità Difficile ogni nuovo tentativo deve rispettare le informazioni già scoperte.</p></div></dialog><script>(function(){try{const DICT = ["ABATE","ABATI","ABBAI","ABBIA","ABETE","ABETI","ABILE","ABILI","ABITI","ABITO","ABOLI","ABUSA","ABUSI","ABUSO","ACETI","ACETO","ACIDA","ACIDE","ACIDI","ACIDO","ACQUA","ACQUE","ACUTA","ACUTE","ACUTI","ACUTO","ADAGI","ADDII","ADDIO","ADIRA","ADIRI","ADIRO","ADITI","ADITO","ADORA","ADORI","ADORO","ADULA","ADULI","ADULO","ADUNA","ADUNI","ADUNO","AEREA","AEREE","AEREI","AEREO","AFONA","AFONE","AFONI","AFONO","AFOSA","AFOSE","AFOSI","AFOSO","AGILE","AGILI","AGIRE","AGITA","AGITI","AGITO","AGLIO","AIUTA","AIUTI","AIUTO","ALCOL","ALCUN","ALGHE","ALITI","ALITO","ALTRA","ALTRE","ALTRI","ALTRO","ALZAI","AMACA","AMANO","AMARA","AMARE","AMARI","AMARO","AMATA","AMATE","AMATI","AMATO","AMAVA","AMAVI","AMAVO","AMENA","AMENE","AMENI","AMENO","AMERA","AMERO","AMICA","AMICI","AMICO","AMINO","AMORE","AMORI","AMPIE","AMPIO","AMPLI","ANCHE","ANDAI","ANDAR","ANDRA","ANDRO","ANIMA","ANIME","ANIMI","ANIMO","ANNOI","ANSIA","ANSIE","ANTRI","ANTRO","APICE","APICI","APPAI","APRII","ARANO","ARARE","ARATA","ARATE","ARATI","ARATO","ARAVA","ARAVI","ARAVO","ARCHI","ARDUA","ARDUE","ARDUI","ARDUO","ARERA","ARERO","ARIDA","ARIDE","ARIDI","ARIDO","ARINO","ARMAI","AROMA","AROMI","ASCIA","ASILI","ASILO","ASINA","ASINE","ASINI","ASINO","ASOLA","ASOLE","ASPRA","ASPRE","ASPRI","ASPRO","ASTRI","ASTRO","ATOMI","ATOMO","ATRII","ATRIO","ATTUA","ATTUI","ATTUO","AUREA","AUREE","AUREI","AUREO","AVARA","AVARE","AVARI","AVARO","AVERE","AVETE","AVEVA","AVEVI","AVEVO","AVIDA","AVIDE","AVIDI","AVIDO","AVRAI","AVREI","AVUTO","AVVIA","AVVII","AVVIO","BABBI","BABBO","BACHI","BACIA","BACIO","BADAI","BAFFI","BAFFO","BAGNA","BAGNI","BAGNO","BALIA","BALIE","BALLA","BALLI","BALLO","BALZA","BALZE","BALZI","BALZO","BANCA","BANDA","BANDE","BANDI","BARAI","BARBA","BARBE","BARCA","BARRA","BARRE","BASAI","BASSA","BASSO","BASTA","BASTI","BASTO","BATTA","BATTE","BATTI","BATTO","BAULE","BAULI","BAZAR","BEATA","BEATE","BEATI","BEATO","BECCO","BEFFA","BEFFE","BELLA","BELLE","BELLI","BELLO","BELVA","BELVE","BENDA","BENDE","BENDI","BENDO","BEONE","BEONI","BERCI","BERLO","BERRA","BERRO","BERSI","BIECO","BIMBA","BIMBE","BIMBI","BIMBO","BIRRA","BIRRE","BISCA","BISCE","BOCCA","BOCCE","BOCCI","BOLLA","BOLLE","BOLLI","BOLLO","BOMBA","BOMBE","BONTA","BORDI","BORDO","BORGO","BORIA","BORIE","BORSA","BORSE","BOSCO","BOTTA","BOTTE","BOZZA","BOZZE","BRACE","BRACI","BRAMA","BRAMI","BRAMO","BRANI","BRANO","BRAVA","BRAVE","BRAVI","BRAVO","BREVE","BREVI","BRINA","BRINE","BRODI","BRODO","BRUCI","BRUCO","BRUNA","BRUNE","BRUNI","BRUNO","BRUTI","BRUTO","BUCCE","BUCHE","BUCHI","BUFFA","BUFFE","BUFFI","BUFFO","BUGIA","BUGIE","BULBI","BULBO","BUONA","BUONE","BUONI","BUONO","BURLA","BURLE","BURLI","BURLO","BURRI","BURRO","BUSSA","BUSSI","BUSSO","BUSTI","BUSTO","BUTTA","BUTTI","BUTTO","CACAO","CACCE","CACCI","CADDE","CADDI","CADRA","CAFFE","CAGNA","CAGNE","CALAI","CALCI","CALCO","CALDA","CALDE","CALDI","CALDO","CALLI","CALLO","CALMA","CALME","CALMI","CALMO","CALVA","CALVE","CALVI","CALVO","CALZA","CALZE","CALZI","CALZO","CAMBI","CAMPA","CAMPI","CAMPO","CANNA","CANNE","CANTA","CANTI","CANTO","CAPRA","CAPRE","CARNE","CARNI","CARRI","CARRO","CARTA","CARTE","CASCO","CASSA","CASSE","CASTA","CASTE","CASTI","CASTO","CAUSA","CAUSE","CAUSI","CAUSO","CAUTA","CAUTE","CAUTI","CAUTO","CAVAI","CEDRI","CEDRO","CELAI","CELLA","CELLE","CENAI","CENNI","CENNO","CENTO","CERCA","CERCO","CERTA","CERTE","CERTI","CERTO","CERVI","CERVO","CESSA","CESSI","CESSO","CESTA","CESTI","CETRA","CETRE","CHINA","CHINE","CHINI","CHINO","CICCA","CICLI","CICLO","CIECA","CIECO","CIELI","CIELO","CIFRA","CIFRE","CIGLI","CIGNI","CIGNO","CINSE","CINTA","CINTO","CIRCA","CIRCO","CISTE","CISTI","CITAI","CITTA","CLERO","CLIMA","CLIMI","COLAI","COLLA","COLLE","COLLI","COLLO","COLMA","COLME","COLMI","COLMO","COLPA","COLPE","COLPI","COLPO","COLSE","COLTA","COLTI","COLTO","CONCI","CONDI","CONIA","CONII","CONIO","CONTA","CONTE","CONTI","CONTO","COPIA","COPIE","COPIO","COPRA","COPRE","COPRI","COPRO","CORDA","CORDE","CORNA","CORNO","CORPI","CORPO","CORRA","CORRE","CORRI","CORRO","CORSA","CORSE","CORSI","CORSO","CORTA","CORTE","CORTI","CORTO","CORVI","CORVO","COSCE","COSMI","COSMO","COSTA","COSTE","COSTI","COSTO","COTTA","COTTE","COTTI","COTTO","COVAI","COZZA","COZZE","COZZI","COZZO","CRANI","CREAI","CREDA","CREDE","CREDI","CREDO","CREMA","CREME","CREMI","CREMO","CREPA","CREPE","CREPI","CREPO","CRETA","CRETE","CRISI","CROCE","CROCI","CROMO","CRUDA","CRUDE","CRUDI","CRUDO","CRUNA","CRUNE","CULLA","CULLE","CULLI","CULLO","CULTI","CULTO","CUOCA","CUOCO","CUOIO","CUORE","CUORI","CURAI","CURVA","CURVE","CURVI","CURVO","DACCI","DAGLI","DAINI","DAINO","DALLA","DALLE","DALLO","DAMMI","DANDO","DANNA","DANNI","DANNO","DANZA","DANZE","DANZI","DANZO","DARAI","DARCI","DAREI","DARLA","DARLE","DARMI","DARNE","DARSI","DARTI","DARVI","DATAI","DATTI","DAZIO","DEBBA","DEBBO","DEGLI","DEGNA","DEGNE","DEGNI","DEGNO","DELLA","DELLE","DELLO","DEMMO","DENSA","DENSE","DENSI","DENSO","DENTE","DENTI","DESSE","DESSI","DESTA","DESTI","DESTO","DETTA","DETTE","DETTI","DETTO","DIAMO","DIANO","DIARI","DICCI","DICON","DIECI","DIEDE","DIEDI","DIETA","DIETE","DIGHE","DIGLI","DILLA","DILLE","DILLO","DILUI","DIMMI","DINNE","DIRAI","DIRCI","DIREI","DIRLA","DIRLE","DIRLO","DIRMI","DIRNE","DIRSI","DIRTI","DIRVI","DISCO","DISSE","DISSI","DISTA","DISTI","DISTO","DOCCE","DOGMA","DOGMI","DOLCE","DOLCI","DOMAI","DONAI","DONNA","DONNE","DOPPI","DORMA","DORME","DORMI","DORMO","DORSI","DORSO","DOSAI","DOTAI","DOTTA","DOTTE","DOTTI","DOTTO","DOVER","DOVRA","DOVRO","DRAGA","DRAGO","DUBBI","DUCHI","DUOMI","DUOMO","DURAI","EBANO","EBETE","EBETI","EBREA","EBREE","EBREI","EBREO","EDERA","EDERE","EDUCA","EDUCO","ELEVA","ELEVI","ELEVO","ELICA","ELOGI","ELUDE","ELUDI","ELUDO","ELUSA","ELUSE","ELUSI","ELUSO","EMANA","EMANI","EMANO","EMULA","EMULI","EMULO","ENTRA","ENTRI","ENTRO","EPICA","EPICI","EPICO","EPOCA","EPURA","EPURI","EPURO","ERANO","EREDE","EREDI","ERIGE","ERIGI","ERIGO","ERRAI","ESAME","ESAMI","ESCHE","ESIGE","ESILE","ESILI","ESIME","ESIMI","ESIMO","ESITI","ESITO","ESPIA","ESPII","ESPIO","ESSER","ESULA","ESULE","ESULI","ETERE","EVITA","EVITI","EVITO","FACCE","FACCI","FAGGI","FAGLI","FALCE","FALCI","FALCO","FALDA","FALDE","FALLA","FALLE","FALLI","FALLO","FALSA","FALSE","FALSI","FALSO","FAMMI","FANGO","FANNE","FANNO","FANTE","FANTI","FARAI","FARCI","FAREI","FARLA","FARLE","FARLI","FARLO","FARMI","FARNE","FARSI","FARTI","FARVI","FASCE","FASCI","FATTA","FATTE","FATTI","FATTO","FENDE","FENDI","FENDO","FERIE","FERII","FERMA","FERME","FERMI","FERMO","FERRI","FERRO","FESSA","FESSE","FESSI","FESSO","FESTA","FESTE","FETTA","FETTE","FICHI","FIENI","FIENO","FIERA","FIERE","FIERI","FIERO","FIGLI","FILAI","FINGE","FINGI","FINGO","FINII","FINSE","FINSI","FINTO","FIORE","FIORI","FIRMA","FIRME","FIRMI","FIRMO","FISCO","FISSA","FISSE","FISSI","FISSO","FITTA","FITTE","FITTI","FITTO","FIUME","FIUMI","FIUTA","FIUTI","FIUTO","FLUII","FOCHE","FOGLI","FOGNA","FOGNE","FOLLA","FOLLE","FOLTA","FOLTE","FOLTI","FOLTO","FONDA","FONDI","FONDO","FORAI","FORMA","FORME","FORMI","FORMO","FORNI","FORNO","FORSE","FORTE","FORTI","FORZA","FORZE","FORZI","FORZO","FOSCO","FOSSA","FOSSE","FOSSI","FOSTE","FOSTI","FRANA","FRANE","FRANI","FRANO","FRASE","FRASI","FRATE","FRATI","FRENI","FRENO","FRODA","FRODI","FRODO","FRUGA","FRUGO","FUGAI","FUGGA","FUGGE","FUGGI","FUGHE","FUGHI","FUMAI","FUMMO","FUNGE","FUNGO","FUOCO","FUORI","FURBA","FURBE","FURBI","FURBO","FURTI","FURTO","FUSTI","FUSTO","GALLI","GALLO","GAMBA","GAMBE","GAMBI","GAMBO","GAMMA","GANCI","GARBO","GARZA","GARZE","GELAI","GELSI","GELSO","GEMMA","GEMME","GENIO","GENTE","GERGO","GERME","GERMI","GESSI","GESSO","GESTI","GESTO","GETTA","GETTI","GETTO","GHISA","GIACE","GIARA","GIARE","GIGLI","GIOCA","GIOCO","GIOGO","GIOIA","GIOIE","GIOII","GIOVA","GIOVI","GIOVO","GIRAI","GIURA","GIURI","GIURO","GLOBI","GLOBO","GOBBA","GOBBE","GOBBI","GOBBO","GOCCE","GOFFA","GOFFE","GOFFI","GOFFO","GOLFI","GOLFO","GOMMA","GOMME","GONFI","GONNA","GONNE","GORGO","GRADI","GRADO","GRAFI","GRAFO","GRANA","GRANE","GRANI","GRANO","GRATA","GRATE","GRATI","GRATO","GRAVA","GRAVE","GRAVI","GRAVO","GRAZI","GRECO","GREMI","GRIDA","GRIDI","GRIDO","GRIGI","GUADA","GUADI","GUADO","GUAIO","GUARI","GUIDA","GUIDE","GUIDI","GUIDO","GUSCI","GUSTA","GUSTI","GUSTO","HANNO","IDOLI","IDOLO","IMITA","IMITI","IMITO","INIZI","INVIA","INVII","INVIO","IODIO","IRIDE","ISOLA","ISOLE","ISOLI","ISOLO","ISTMI","ISTMO","LACCA","LACCI","LADRA","LADRE","LADRI","LADRO","LAGHI","LAICA","LAICI","LAICO","LAMBI","LAMPI","LAMPO","LANCE","LANCI","LANDA","LANDE","LAPIS","LARDO","LARGA","LARGO","LASCI","LATRA","LATRI","LATRO","LATTA","LATTE","LAVAI","LEALE","LEALI","LECCA","LECCI","LECCO","LEGAI","LEGGA","LEGGE","LEGGI","LEGGO","LEGHE","LEGHI","LEGNA","LEGNI","LEGNO","LEMBI","LEMBO","LENTA","LENTE","LENTI","LENTO","LENZA","LENZE","LEONE","LEONI","LEPRE","LEPRI","LERCE","LERCI","LESSA","LESSE","LESSI","LESSO","LESTA","LESTE","LESTI","LESTO","LETTA","LETTE","LETTI","LETTO","LEVAI","LIANA","LIBRA","LIBRE","LIBRI","LIBRO","LICEI","LICEO","LIETA","LIETE","LIETI","LIETO","LIEVE","LIEVI","LILLA","LINDA","LINDE","LINDI","LINDO","LINEA","LINEE","LISCA","LISCI","LISTA","LISTE","LITRI","LITRO","LODAI","LORDA","LORDE","LORDI","LORDO","LOSCA","LOSCO","LOTTA","LOTTE","LOTTI","LOTTO","LUNGA","LUNGO","LUOGO","LUSSI","LUSSO","LUTTI","LUTTO","MADRE","MADRI","MAGGI","MAGRA","MAGRE","MAGRI","MAGRO","MAMMA","MAMME","MANCA","MANCE","MANCO","MANDA","MANDI","MANDO","MANGI","MANIA","MANIE","MANZI","MANZO","MAPPA","MAPPE","MARCA","MARCE","MARCI","MARCO","MAREA","MAREE","MARMI","MARMO","MARZO","MASSA","MASSE","MASSI","MASSO","MATTA","MATTE","MATTI","MATTO","MAZZA","MAZZE","MAZZI","MAZZO","MEDIA","MEDIE","MEDIO","MELMA","MELME","MENAI","MENSA","MENSE","MENTA","MENTE","MENTI","MENTO","MERCE","MERCI","MERLI","MERLO","MESSA","MESSE","MESSI","MESSO","MESTA","MESTI","MESTO","METRI","METRO","METTA","METTE","METTI","METTO","MEZZA","MEZZE","MEZZI","MEZZO","MICCE","MIELE","MIETA","MIETE","MIETI","MIETO","MILLE","MILZA","MILZE","MIOPE","MIOPI","MIRAI","MISTA","MISTE","MISTI","MISTO","MOGLI","MOLLA","MOLLE","MOLTA","MOLTE","MOLTI","MOLTO","MONCA","MONCO","MONDI","MONDO","MONTA","MONTE","MONTI","MONTO","MORDA","MORII","MORIR","MORSA","MORSE","MORSI","MORSO","MORTA","MORTE","MORTI","MORTO","MOSCA","MOSCI","MOSSA","MOSSE","MOSSI","MOSSO","MOZZA","MOZZE","MOZZI","MOZZO","MUCCA","MUFFA","MUFFE","MUGGI","MULTA","MULTE","MUOIA","MUOIO","MUORE","MUORI","MUOVA","MUOVE","MUOVI","MUOVO","MUSEI","MUSEO","MUTAI","NAFTA","NAFTE","NAPPA","NARRA","NARRI","NARRO","NASCE","NASCO","NAUSE","NAVIG","NEGAI","NEGHI","NEGLI","NEGRA","NEGRE","NEGRI","NEGRO","NELLA","NELLE","NELLO","NERVI","NERVO","NEVAI","NEVIC","NINFA","NINFE","NOMIN","NONNA","NONNE","NONNI","NONNO","NORMA","NORME","NOTAI","NOTER","NOTTE","NOTTI","NOVIT","NOZZE","NUCHE","NUDIT","NULLA","NULLO","NUMER","NUNZI","NUORA","NUORE","NUOTA","NUOTI","NUOTO","NUOVA","NUOVE","NUOVI","NUOVO","NUTRE","NUTRI","OBBED","OBERA","OBERI","OBERO","OBLIA","OBLII","OBLIO","OCCHI","OCCUP","ODIAI","ODIER","ODINO","ODONO","ODORA","ODORE","ODORI","ODORO","OFFRA","OFFRE","OFFRI","OFFRO","OLEZZ","OLIAI","OLIER","OLINO","OLIVA","OLIVE","OLTRE","OMBRA","OMBRE","OMERI","OMERO","ONCIA","ONDUL","ONERI","ONEST","ONICE","ONORA","ONORE","ONORI","ONORO","OPACA","OPACO","OPERA","OPERE","OPERI","OPERO","OPINA","OPINI","OPINO","OPPIO","OPTAI","OPTER","ORAFA","ORAFE","ORAFI","ORAFO","ORALE","ORALI","ORARI","ORCHI","ORDII","ORDIN","ORDIR","ORLAI","ORLER","ORMAI","ORNAI","ORNER","OSANO","OSARE","OSATA","OSATE","OSATI","OSATO","OSAVA","OSAVI","OSAVO","OSCUR","OSINO","OSPIT","OTTUR","OVALE","OVALI","OVILE","OVILI","OVVIA","OVVIO","OZIAI","OZIER","OZINO","PACCO","PADRE","PADRI","PAESE","PAESI","PAGAI","PAGHI","PALCO","PALES","PALLA","PALLE","PALMA","PALME","PALPA","PALPI","PALPO","PANCA","PANCE","PANNA","PANNE","PANNI","PANNO","PAPPA","PAPPE","PARCO","PARIT","PARLA","PARLI","PARLO","PARSA","PARSO","PARTE","PARTI","PARTO","PARVE","PASSA","PASSI","PASSO","PASTA","PASTE","PASTI","PASTO","PATTA","PATTI","PATTO","PAURA","PAURE","PAUSA","PAUSE","PAZZA","PAZZE","PAZZI","PAZZO","PECCA","PECCO","PEDIN","PEGNI","PEGNO","PELAI","PELER","PELLE","PELLI","PENAI","PENDA","PENDE","PENDI","PENDO","PENER","PENNA","PENNE","PENSA","PENSI","PENSO","PERDE","PERLA","PERLE","PERNI","PERNO","PERSA","PERSE","PERSI","PERSO","PESAI","PESCA","PESCE","PESCI","PESCO","PESER","PESTE","PESTI","PESTO","PETTI","PETTO","PEZZA","PEZZE","PEZZI","PEZZO","PIACE","PIACI","PIAGA","PIANA","PIANE","PIANI","PIANO","PIANT","PICCO","PIEDE","PIEDI","PIEGA","PIENA","PIENE","PIENI","PIENO","PIGLI","PIGOL","PIGRA","PIGRE","PIGRI","PIGRO","PINNA","PINNE","PINTA","PINTE","PINZA","PINZE","PIOMB","PIOVE","PISTA","PISTE","PIUMA","PIUME","PIZZA","PIZZE","PIZZI","PIZZO","PLACC","PLASM","PLEBE","PLEBI","PLICO","POCHE","POCHI","PODIO","POEMA","POEMI","POETA","POETI","POGGI","POLLI","POLLO","POLPA","POLPE","POLSI","POLSO","POMPA","POMPE","POMPI","POMPO","PONTE","PONTI","POPOL","POPPA","POPPE","PORGE","PORLO","PORRE","PORRI","PORRO","PORSE","PORTA","PORTE","PORTI","PORTO","PORVI","POSAI","POSER","POSSA","POSSI","POSSO","POSTA","POSTE","POSTI","POSTO","POTEA","POTEI","POTER","POTRA","POZZA","POZZE","POZZI","POZZO","PRANZ","PRATI","PRATO","PREDA","PREDE","PREDI","PREDO","PREGA","PREGI","PREGO","PREMA","PREME","PREMI","PREMO","PRESA","PRESE","PRESI","PRESO","PRESS","PREST","PRETE","PRETI","PRILL","PRIMA","PRIME","PRIMI","PRIMO","PRIVA","PRIVE","PRIVI","PRIVO","PRODE","PRODI","PROIB","PROLE","PROSA","PROSE","PROVA","PROVE","PROVI","PROVO","PUGNI","PUGNO","PULCE","PULCI","PULII","PULIR","PULSA","PULSI","PULSO","PUNGE","PUNGI","PUNGO","PUNSE","PUNSI","PUNTA","PUNTE","PUNTI","PUNTO","PURGA","PURGO","PUZZA","PUZZE","PUZZI","PUZZO","QUALE","QUALI","QUASI","QUASS","QUELL","QUEST","QUOTA","QUOTE","QUOTI","QUOTO","RADIA","RADIO","RADUN","RAGGI","RAGNI","RAGNO","RAMAI","RAMPA","RAMPE","RANCI","RANGO","RAPAI","RAPER","RAPII","RAPIR","RARIT","RASOI","RASPA","RASPI","RASPO","RATTI","RATTO","RAUCA","RAUCO","RAYON","RAZZA","RAZZE","RAZZI","RAZZO","REALE","REALI","REALT","REATI","REATO","REBUS","RECAI","RECED","RECHI","RECIT","REGAL","REGGE","REGGI","REGGO","REGNA","REGNI","REGNO","REGOL","RELEG","REMAI","REMER","RENDA","RENDE","RENDI","RENDO","RENNA","RENNE","REPUT","RESSA","RESSE","RESSI","RESTA","RESTI","RESTO","RETRO","RETTA","RETTE","RETTI","RETTO","REVOC","RIALZ","RIAVA","RIAVE","RIAVI","RIAVO","RIBAD","RIBES","RICAM","RICAV","RICCA","RICCI","RICCO","RICEV","RIEMP","RIFER","RIFIN","RIGHE","RILEG","RILEV","RINVI","RIONE","RIONI","RIPAG","RIPAR","RIPET","RIPOS","RIPUL","RISAN","RISMA","RISME","RISON","RISSA","RISSE","RITIR","RITMI","RITMO","RITTA","RITTE","RITTI","RITTO","RIUSC","RIVED","RIVEL","ROCCE","ROGHI","ROMBA","ROMBI","ROMBO","ROMPA","ROMPE","ROMPI","ROMPO","RONDA","RONDE","RONZA","RONZI","RONZO","ROSOL","ROSPI","ROSPO","ROSSA","ROSSE","ROSSI","ROSSO","ROTOL","ROTTA","ROTTE","ROTTI","ROTTO","ROVIN","ROZZA","ROZZE","ROZZI","ROZZO","RUBAI","RUBER","RUGHE","RULLA","RULLI","RULLO","RUMIN","RUOLI","RUOLO","RUOTA","RUOTE","RUPPE","RUSSA","RUSSI","RUSSO","SACCA","SACCO","SACRA","SACRE","SACRI","SACRO","SAGGE","SAGGI","SALAI","SALDA","SALDE","SALDI","SALDO","SALER","SALGA","SALIR","SALMA","SALME","SALMI","SALMO","SALPA","SALPI","SALPO","SALSA","SALSE","SALTA","SALTI","SALTO","SALUT","SALVA","SALVE","SALVI","SALVO","SANAI","SANER","SANNO","SANTA","SANTE","SANTI","SANTO","SAPER","SAPPI","SARAI","SAREI","SARTA","SARTE","SARTI","SARTO","SASSI","SASSO","SAZIA","SAZIE","SAZIO","SBALL","SBALZ","SBARC","SBARR","SBATT","SBAVA","SBAVI","SBAVO","SBEND","SBIAD","SBRAN","SBRIG","SBUFF","SCADA","SCADE","SCADI","SCADO","SCAFI","SCAFO","SCALA","SCALD","SCALE","SCALI","SCALO","SCAMP","SCAPP","SCART","SCASS","SCATT","SCAVA","SCAVI","SCAVO","SCEMA","SCEME","SCEMI","SCEMO","SCENA","SCENE","SCESA","SCESE","SCESI","SCESO","SCIUP","SCOLI","SCOLO","SCOLP","SCONT","SCOPA","SCOPE","SCOPI","SCOPO","SCOPR","SCORD","SCORT","SCOST","SCOTT","SCOVA","SCOVI","SCOVO","SCOZZ","SCREM","SCRUT","SCUDI","SCUDO","SCURA","SCURE","SCURI","SCURO","SCUSA","SCUSE","SCUSI","SCUSO","SDEGN","SECCA","SECCO","SEDAI","SEDER","SEDIA","SEDIE","SEGGI","SEGHE","SEGNA","SEGNI","SEGNO","SEGUA","SEGUE","SEGUI","SEGUO","SELCI","SELLA","SELLE","SELVA","SELVE","SEMBR","SEMIN","SENNO","SENSI","SENSO","SENTA","SENTE","SENTI","SENTO","SENZA","SEPAR","SEPPE","SEPPI","SERBA","SERBI","SERBO","SERIA","SERIE","SERIO","SERRA","SERRE","SERRI","SERRO","SERVA","SERVE","SERVI","SERVO","SESSI","SESSO","SETTA","SETTE","SFAMA","SFAMI","SFAMO","SFERA","SFERE","SFIBR","SFIDA","SFIDE","SFIDI","SFIDO","SFILA","SFILI","SFILO","SFIOR","SFOCI","SFOGA","SFOGO","SFOND","SFREG","SGELO","SGOBB","SGORG","SGOZZ","SGRAN","SGRAV","SGRID","SIAMO","SIANO","SIATE","SIBIL","SIDRO","SIEDA","SIEDE","SIEDI","SIEDO","SIEPE","SIEPI","SIERI","SIERO","SIETE","SIGLA","SIGLE","SILUR","SIMUL","SITUA","SITUI","SITUO","SLEGA","SLEGO","SLENT","SLITT","SLOGA","SLOGO","SMALT","SMARR","SMENT","SMEZZ","SMISE","SMISI","SMONT","SMORZ","SNODA","SNODI","SNODO","SOAVE","SOAVI","SOBRI","SOCIO","SODIO","SOFFI","SOFFR","SOGNA","SOGNI","SOGNO","SOLAI","SOLCA","SOLCO","SOMMA","SOMME","SOMMI","SOMMO","SONDA","SONDE","SONDI","SONDO","SONNI","SONNO","SOPII","SOPIR","SOPRA","SORCI","SORDA","SORDE","SORDI","SORDO","SORGE","SORSE","SORSI","SORSO","SORTA","SORTE","SORTI","SORTO","SOSIA","SOSTA","SOSTE","SOSTI","SOSTO","SOTTO","SOZZA","SOZZE","SOZZI","SOZZO","SPACC","SPADA","SPADE","SPAGO","SPALM","SPARA","SPARI","SPARL","SPARO","SPART","SPAZI","SPAZZ","SPECI","SPELL","SPERA","SPERD","SPERI","SPERO","SPESA","SPESE","SPESI","SPESO","SPETT","SPEZZ","SPIAN","SPICC","SPIEG","SPIGA","SPILL","SPINA","SPINE","SPIRA","SPIRI","SPIRO","SPOLA","SPOLE","SPORC","SPOSA","SPOSE","SPOSI","SPOSO","SPOST","SPREC","SPREM","SPRON","SPUMA","SPUME","SPUNT","SPUTA","SPUTI","SPUTO","STACC","STADI","STAMP","STANA","STANC","STANI","STANO","STAPP","STARE","STARO","STATA","STATE","STATI","STATO","STAVA","STAVI","STAVO","STAZZ","STELI","STELO","STENT","STERZ","STESA","STESE","STESI","STESO","STILE","STILI","STILL","STIMA","STIME","STIMI","STIMO","STIRA","STIRI","STIRO","STIVA","STIVE","STIVI","STIVO","STOLA","STOLE","STONA","STONI","STONO","STORD","STORM","STORN","STREM","STRID","STRIP","STUCC","STUDI","STUFA","STUFE","STUFI","STUFO","STURA","STURI","STURO","SUCCO","SUDAI","SUDER","SUGLI","SUINI","SUINO","SULLA","SULLE","SULLO","SUNTO","SUOLA","SUOLE","SUONA","SUONI","SUONO","SUORA","SUORE","SUPER","SVAGA","SVAGO","SVERN","SVEST","SVIAI","SVIER","SVINO","SVISA","SVISI","SVISO","SVITA","SVITI","SVITO","SVOLT","SVUOT","TACCI","TACCO","TAGLI","TALCO","TALPA","TALPE","TANFO","TANGA","TANTA","TANTE","TANTI","TANTO","TAPPA","TAPPE","TAPPI","TAPPO","TARDA","TARDI","TARDO","TARGA","TARPA","TARPI","TARPO","TASCA","TASSA","TASSE","TASSI","TASSO","TASTA","TASTI","TASTO","TATTI","TATTO","TATUA","TATUI","TATUO","TAZZA","TAZZE","TEDIA","TEDIO","TELAI","TEMPI","TEMPO","TEMPR","TENDA","TENDE","TENER","TENGA","TENGO","TENIA","TENIE","TENNE","TENNI","TENTA","TENTI","TENTO","TENUE","TENUI","TERGA","TERGE","TERGI","TERGO","TERME","TERMI","TERNA","TERNE","TERRA","TERRE","TERSA","TERSE","TERSI","TERSO","TERZO","TESSA","TESSE","TESSI","TESSO","TESTA","TESTE","TESTI","TESTO","TETRA","TETRE","TETRI","TETRO","TETTE","TETTI","TETTO","TIBIA","TIBIE","TIENE","TIENI","TIGLI","TIGNA","TIGNE","TIGRE","TIGRI","TIMBR","TINTA","TINTE","TINTI","TINTO","TIRAI","TIRER","TITUB","TIZIA","TIZIE","TIZIO","TOCCA","TOCCO","TOGHE","TOGLI","TOLGA","TOLGO","TOLSE","TOLSI","TOLTA","TOLTE","TOLTI","TOLTO","TOMBA","TOMBE","TONDA","TONDE","TONDI","TONDO","TONFI","TONFO","TONNI","TONNO","TONTA","TONTE","TONTI","TONTO","TOPPA","TOPPE","TORBA","TORBE","TORCE","TORNA","TORNE","TORNI","TORNO","TORRE","TORRI","TORTA","TORTE","TORTI","TORTO","TOSAI","TOSER","TOSSE","TOSSI","TOSTA","TOSTE","TOSTI","TOSTO","TOZZA","TOZZE","TOZZI","TOZZO","TRAIN","TRAMA","TRAME","TRAMI","TRAMO","TRARR","TRATT","TRAVE","TRAVI","TREMA","TREMI","TREMO","TRENI","TRENO","TRILL","TRITA","TRITE","TRITI","TRITO","TRONC","TRONI","TRONO","TROTA","TROTE","TROTT","TROVA","TROVI","TROVO","TRUCC","TRUFF","TUBAI","TUBER","TUFFA","TUFFI","TUFFO","TULLE","TUONA","TUONI","TUONO","TURAI","TURBA","TURBO","TURER","TURNI","TURNO","TURRI","TUTTA","TUTTE","TUTTI","TUTTO","UDIRE","UDITA","UDITE","UDITI","UDITO","UDIVA","UDIVO","ULTIM","ULULA","ULULI","ULULO","UMANA","UMANE","UMANI","UMANO","UMIDA","UMIDE","UMIDI","UMIDO","UMILE","UMILI","UMORE","UMORI","UNICA","UNICI","UNICO","UNIRE","UNITA","UNITE","UNITI","UNITO","UNIVA","UNIVI","UNIVO","URLAI","USANO","USARE","USATA","USATE","USATI","USATO","USAVA","USAVI","USAVO","USCII","USCIO","USCIR","USINO","USURA","USURE","UTILE","UTILI","VACCA","VAGHE","VAGHI","VAGLI","VALGA","VALGO","VALLE","VALLI","VALLO","VAMPI","VANGA","VANGO","VANNO","VANTA","VANTI","VANTO","VARCO","VARIA","VARIE","VARIO","VASCA","VASTA","VASTE","VASTI","VASTO","VEDER","VEDRA","VEGLI","VELAI","VELLI","VELLO","VENDA","VENDE","VENDI","VENDO","VENGA","VENIR","VENNE","VENNI","VENTI","VENTO","VERBI","VERBO","VERDE","VERDI","VERGA","VERME","VERMI","VERRA","VERSA","VERSI","VERSO","VERTE","VESPA","VESPE","VESSA","VESSI","VESSO","VESTE","VESTI","VESTO","VETRI","VETTA","VETTE","VETTO","VEZZI","VEZZO","VIALE","VIALI","VIBRA","VIBRI","VIBRO","VIDEO","VIENE","VIENI","VIETA","VIETI","VIETO","VIGNA","VIGNE","VILLA","VILLE","VINAI","VINCE","VINCI","VINCO","VINTA","VINTE","VINTI","VINTO","VIOLA","VIOLE","VIOLI","VIOLO","VIRTU","VISPA","VISPE","VISPI","VISPO","VISSE","VISSI","VISTA","VISTE","VISTI","VISTO","VITTI","VITTO","VIZIA","VIZIO","VOGAI","VOGHI","VOLAI","VOLER","VOLGE","VOLGI","VOLGO","VOLLE","VOLLI","VOLPE","VOLPI","VOLSE","VOLTA","VOLTE","VOLTI","VOLTO","VORRA","VUOLE","VUOTA","VUOTE","VUOTI","VUOTO","ZAINI","ZAINO","ZAMPA","ZAMPE","ZANNA","ZANNE","ZAPPA","ZAPPI","ZAPPO","ZECCA","ZEPPA","ZEPPE","ZEPPI","ZEPPO","ZITTA","ZITTE","ZITTI","ZITTO","ZOLFO","ZOLLA","ZOLLE","ZOPPA","ZOPPE","ZOPPI","ZOPPO","ZUCCA","ZUFFA","ZUFFE","ZUPPA","ZUPPE"];;if('serviceWorker'in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('./sw.js').catch(()=>{});});}const LS_KEY='parole5-dict-it-5';const LS_OPT='parole5-opts';const STATE_KEY='parole5-'+todayKey();const statusEl=document.getElementById('status');const opts=loadOpts();const optAny=document.getElementById('optAny');const optHard=document.getElementById('optHard');if(optAny)optAny.checked=!!opts.allowAny;if(optHard)optHard.checked=!!opts.hard;let DICT_ACTIVE=[];const saved=localStorage.getItem(LS_KEY);if(saved){try{const arr=JSON.parse(saved);if(Array.isArray(arr)&&arr.length>0)DICT_ACTIVE=sanitizeWords(arr);}catch{}}if(DICT_ACTIVE.length===0)DICT_ACTIVE=DICT.slice();const state={answer:'AMORE',row:0,col:0,grid:Array.from({length:6},()=>Array(5).fill('')),locked:false,constraints:initConstraints()};const K1='QWERTYUIOP'.split('');const K2='ASDFGHJKL'.split('');const K3=['INVIO','Z','X','C','V','B','N','M','⌫'];[['kb1',K1],['kb2',K2],['kb3',K3]].forEach(([id,keys])=>{const wrap=document.getElementById(id);keys.forEach(k=>{const b=document.createElement('button');b.className='key'+(k.length>1?' sm':'');b.textContent=k;b.addEventListener('click',()=>onKey(k));wrap.appendChild(b);});});document.addEventListener('keydown',e=>{if(state.locked)return;if(e.key==='Enter')onKey('INVIO');else if(e.key==='Backspace')onKey('⌫');else if(/^[a-zA-ZÀ-ÿ]$/.test(e.key))onKey(e.key.toUpperCase());});state.answer=pickDailyWord(DICT_ACTIVE);restoreState();updateCount();status(buildStatus());if(optAny)optAny.addEventListener('change',()=>{opts.allowAny=optAny.checked;saveOpts();showToast('Opzioni aggiornate');status(buildStatus());});if(optHard)optHard.addEventListener('change',()=>{opts.hard=optHard.checked;saveOpts();showToast('Opzioni aggiornate');status(buildStatus());});const btnReveal=document.getElementById('btnReveal');if(btnReveal)btnReveal.addEventListener('click',()=>{showToast('Parola di oggi: '+state.answer);alert('Parola di oggi: '+state.answer);state.locked=true;persist(false);});const btnDict=document.getElementById('btnDict');if(btnDict)btnDict.addEventListener('click',()=>{document.getElementById('dlg').showModal();updateCount();});const btnShare=document.getElementById('btnShare');if(btnShare)btnShare.addEventListener('click',async()=>{const text=buildShareText();try{if(navigator.share){await navigator.share({text});}else if(navigator.clipboard){await navigator.clipboard.writeText(text);showToast('Risultato copiato negli appunti');}else{alert(text);} }catch(e){console.warn(e);showToast('Condivisione annullata');}});const btnNew=document.getElementById('btnNew');if(btnNew)btnNew.addEventListener('click',()=>{if(!confirm('Nuova parola (solo test)? Progresso di oggi perderà i dati.'))return;newGame();showToast('Nuova parola impostata');});function buildShareText(){let lines=[];let attempts=0;for(let r=0;r<6;r++){const row=state.grid[r];if(!row || row.some(ch=>!ch))break;const guess=row.join('');const res=score(guess,state.answer);attempts=r+1;let s='';for(let i=0;i<5;i++){s+=res[i]==='ok'?'🟩':res[i]==='maybe'?'🟨':'⬛';}lines.push(s);}const header=`Parole5 ${todayKey()} ${attempts?attempts:'X'}/6`;return header+'\n'+lines.join('\n');}function newGame(){state.grid=Array.from({length:6},()=>Array(5).fill(''));state.row=0;state.col=0;state.locked=false;state.constraints=initConstraints();state.answer=DICT_ACTIVE[Math.floor(Math.random()*DICT_ACTIVE.length)]||'AMORE';clearBoard();resetKeyboard();persist(null);}function clearBoard(){for(let r=0;r<6;r++){for(let c=0;c<5;c++){const el=tileEl(r,c);el.textContent='';el.classList.remove('filled','ok','maybe','no');}}}function resetKeyboard(){document.querySelectorAll('.key').forEach(k=>k.classList.remove('ok','maybe','no'));}function sanitizeWords(arr){const set=new Set();arr.forEach(w=>{if(!w)return;const s=w.toString().normalize('NFD').replace(/[^A-Za-z]/g,'').toUpperCase();if(s.length===5)set.add(s);});return Array.from(set);}function saveDict(){localStorage.setItem(LS_KEY,JSON.stringify(DICT_ACTIVE));}function loadOpts(){try{return JSON.parse(localStorage.getItem(LS_OPT))||{}}catch{return{}}}function saveOpts(){localStorage.setItem(LS_OPT,JSON.stringify(opts));}function todayKey(){return new Date().toISOString().slice(0,10);}function pickDailyWord(list){if(!list||list.length===0)return'AMORE';const seed=todayKey().replace(/-/g,'');let h=0;for(let i=0;i<seed.length;i++){h=(h*31+seed.charCodeAt(i))>>>0}return list[h%list.length];}function onKey(k){if(state.locked)return;if(k==='INVIO')return submit();if(k==='⌫')return back();if(!/^[A-Z]$/.test(k))return;if(state.col<5){state.grid[state.row][state.col]=k;paint(state.row,state.col,k);state.col++;tileEl(state.row,state.col-1).classList.add('filled');}}function back(){if(state.col>0){state.col--;state.grid[state.row][state.col]='';paint(state.row,state.col,'');tileEl(state.row,state.col).classList.remove('filled');}}function submit(){if(state.col<5)return showToast('Servono 5 lettere.');const guess=state.grid[state.row].join('');if(!opts.allowAny&&!DICT_ACTIVE.includes(guess))return showToast('Parola non nel dizionario.');if(opts.hard){const msg=checkHardMode(guess);if(msg){showToast('Modalità Difficile: '+msg);return;}}const res=score(guess,state.answer);reveal(res);colorKeyboard(guess,res);updateConstraintsAfter(guess,res);if(res.every(x=>x==='ok')){state.locked=true;persist(true);return showToast('Bravo! Hai indovinato.');}state.row++;state.col=0;if(state.row===6){state.locked=true;persist(false);showToast(`La parola era ${state.answer}.`);}}function score(guess,answer){const g=guess.split('');const a=answer.split('');const res=Array(5).fill('no');const freq={};a.forEach(ch=>freq[ch]=(freq[ch]||0)+1);for(let i=0;i<5;i++)if(g[i]===a[i]){res[i]='ok';freq[g[i]]--;}for(let i=0;i<5;i++)if(res[i]==='no'&&(freq[g[i]]||0)>0){res[i]='maybe';freq[g[i]]--;}return res;}function reveal(res){for(let c=0;c<5;c++){const el=tileEl(state.row,c);el.classList.remove('filled');el.classList.add(res[c]);}persist();}function colorKeyboard(guess,res){const m={};for(let i=0;i<5;i++){const ch=guess[i];const val=res[i]==='ok'?3:res[i]==='maybe'?2:1;m[ch]=Math.max(m[ch]||0,val);}document.querySelectorAll('.key').forEach(k=>{const ch=k.textContent.length===1?k.textContent:null;if(!ch)return;const v=m[ch];if(!v)return;k.classList.remove('ok','maybe','no');if(v===3)k.classList.add('ok');else if(v===2)k.classList.add('maybe');else k.classList.add('no');});}function tileEl(r,c){return document.getElementById('t'+r+c)}function paint(r,c,ch){tileEl(r,c).textContent=ch}function persist(win){const data={win:win??null,grid:state.grid,row:state.row,answer:state.answer,constraints:state.constraints,opts:opts};localStorage.setItem(STATE_KEY,JSON.stringify(data));}function restoreState(){const raw=localStorage.getItem(STATE_KEY);if(!raw)return;try{const d=JSON.parse(raw);if(!d)return;if(d.opts){Object.assign(opts,d.opts);}if(d.constraints){state.constraints=d.constraints;}state.answer=d.answer||state.answer;state.grid=d.grid||state.grid;state.row=0;state.col=0;for(let r=0;r<6;r++){for(let c=0;c<5;c++){paint(r,c,state.grid[r][c]||'');if(state.grid[r][c])tileEl(r,c).classList.add('filled');}if(state.grid[r].every(x=>x)){const res=score(state.grid[r].join(''),state.answer);revealRow(r,res);colorKeyboard(state.grid[r].join(''),res);state.row=r+1;state.col=0;}}if(d.win===true||state.row>=6){state.locked=true;}if(optAny)optAny.checked=!!opts.allowAny;if(optHard)optHard.checked=!!opts.hard;status(buildStatus());}catch(e){console.warn(e);}}function revealRow(r,res){for(let c=0;c<5;c++){const el=tileEl(r,c);el.classList.remove('filled');el.classList.add(res[c]);}}function initConstraints(){return{greens:Array(5).fill(null),minCounts:{},notAt:{}}}function updateConstraintsAfter(guess,res){const inThis={};for(let i=0;i<5;i++){const ch=guess[i];if(res[i]==='ok'){state.constraints.greens[i]=ch;}if(res[i]!=='no'){inThis[ch]=(inThis[ch]||0)+1;if(res[i]==='maybe'){if(!state.constraints.notAt[ch])state.constraints.notAt[ch]={};state.constraints.notAt[ch][i]=true;}else if(res[i]==='ok'){if(state.constraints.notAt[ch])delete state.constraints.notAt[ch][i];}}}for(const ch in inThis){const need=inThis[ch];state.constraints.minCounts[ch]=Math.max(state.constraints.minCounts[ch]||0,need);}}function checkHardMode(guess){const errs=[];for(let i=0;i<5;i++){const g=state.constraints.greens[i];if(g&&guess[i]!==g)errs.push(`${g} in pos ${i+1}`);}const need=state.constraints.minCounts||{};for(const ch in need){let have=0;for(let i=0;i<guess.length;i++)if(guess[i]===ch)have++;if(have<need[ch])errs.push(`${ch} ×${need[ch]-have}`);}const nap=state.constraints.notAt||{};for(const ch in nap){for(const idx in nap[ch]){if(guess[Number(idx)]===ch)errs.push(`${ch} non in pos ${Number(idx)+1}`);}}return errs.length?('rispetta: '+errs.join(', ')):null;}function updateCount(){document.getElementById('countWords').textContent=DICT_ACTIVE.length.toLocaleString('it-IT');}function status(msg){if(statusEl)statusEl.textContent=msg;}function buildStatus(){return 'Dizionario integrato: '+DICT_ACTIVE.length.toLocaleString('it-IT')+' • '+(opts.allowAny?'Permissiva':'Classica')+' • '+(opts.hard?'Dura':'Normale');}function showToast(msg){const t=document.getElementById('toast');if(!t)return;t.textContent=msg;t.style.display='block';clearTimeout(showToast._t);showToast._t=setTimeout(()=>t.style.display='none',2600);} }catch(err){const t=document.getElementById('toast');if(t){t.textContent='Errore inizializzazione';t.style.display='block';}console.error(err);} })();</script></body></html>